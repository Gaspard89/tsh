!function(a,t){a.fn.bootpag=function(t){function s(t,s){s=parseInt(s,10);var r,n=0==i.maxVisible?1:i.maxVisible,o=1==i.maxVisible?0:1,c=Math.floor((s-1)/n)*n,p=t.find("li");if(i.page=s=0>s?0:s>i.total?i.total:s,p.removeClass(i.activeClass),r=1>s-1?1:i.leaps&&s-1>=i.maxVisible?Math.floor((s-1)/n)*n:s-1,i.firstLastUse&&p.first().toggleClass(i.disabledClass,1===s),n=p.first(),i.firstLastUse&&(n=n.next()),n.toggleClass(i.disabledClass,1===s).attr("data-lp",r).find("a").attr("href",e(r)),o=1==i.maxVisible?0:1,r=s+1>i.total?i.total:i.leaps&&s+1<i.total-i.maxVisible?c+i.maxVisible+o:s+1,n=p.last(),i.firstLastUse&&(n=n.prev()),n.toggleClass(i.disabledClass,s===i.total).attr("data-lp",r).find("a").attr("href",e(r)),p.last().toggleClass(i.disabledClass,s===i.total),n=p.filter("[data-lp="+s+"]"),o="."+[i.nextClass,i.prevClass,i.firstClass,i.lastClass].join(",."),!n.not(o).length){var f=s<=c?-i.maxVisible:0;p.not(o).each(function(t){r=t+1+c+f,a(this).attr("data-lp",r).toggle(r<=i.total).find("a").html(r).attr("href",e(r))}),n=p.filter("[data-lp="+s+"]")}n.not(o).addClass(i.activeClass),l.data("settings",i)}function e(a){return i.href.replace(i.hrefVariable,a)}var l=this,i=a.extend({total:0,page:1,maxVisible:null,leaps:!0,href:"javascript:void(0);",hrefVariable:"{{number}}",next:"&raquo;",prev:"&laquo;",firstLastUse:!1,first:'<span aria-hidden="true">&larr;</span>',last:'<span aria-hidden="true">&rarr;</span>',wrapClass:"pagination",activeClass:"active",disabledClass:"disabled",nextClass:"next",prevClass:"prev",lastClass:"last",firstClass:"first"},l.data("settings")||{},t||{});return 0>=i.total?this:(a.isNumeric(i.maxVisible)||i.maxVisible||(i.maxVisible=parseInt(i.total,10)),l.data("settings",i),this.each(function(){var t,r,n=a(this);for(t=['<ul class="',i.wrapClass,' bootpag">'],i.firstLastUse&&(t=t.concat(['<li data-lp="1" class="',i.firstClass,'"><a href="',e(1),'">',i.first,"</a></li>"])),i.prev&&(t=t.concat(['<li data-lp="1" class="',i.prevClass,'"><a href="',e(1),'">',i.prev,"</a></li>"])),r=1;r<=Math.min(i.total,i.maxVisible);r++)t=t.concat(['<li data-lp="',r,'"><a href="',e(r),'">',r,"</a></li>"]);i.next&&(r=i.leaps&&i.total>i.maxVisible?Math.min(i.maxVisible+1,i.total):2,t=t.concat(['<li data-lp="',r,'" class="',i.nextClass,'"><a href="',e(r),'">',i.next,"</a></li>"])),i.firstLastUse&&(t=t.concat(['<li data-lp="',i.total,'" class="last"><a href="',e(i.total),'">',i.last,"</a></li>"])),t.push("</ul>"),n.find("ul.bootpag").remove(),n.append(t.join("")),t=n.find("ul.bootpag"),n.find("li").click(function(){var t=a(this);if(!t.hasClass(i.disabledClass)&&!t.hasClass(i.activeClass)){var e=parseInt(t.attr("data-lp"),10);l.find("ul.bootpag").each(function(){s(a(this),e)}),l.trigger("page",e)}}),s(t,i.page)}))}}(jQuery,window),$(function(){$(".page-navigation").bootpag({total:8,page:2,maxVisible:4}).on("page",function(a,t){})}),$(function(){function a(){var a=this;a.ratings=ko.observableArray([1,2,3,4,5]),a.currentRating=ko.observable(),a.currentPage=ko.observable(),a.currentText=ko.observable(),a.tescik=ko.observable(),a.setCurrentText=function(){a.currentText(a.tescik())},a.resetCurrentText=function(){a.currentText("")},a.currentRating(""),a.currentText(""),a.currentPage(1),a.ProcessRequest=function(){var s=t+"rating="+a.currentRating()+"&page="+a.currentPage(),e=$.parseJSON($.ajax({url:s,async:!1,dataType:"json"}).responseText);console.log(s),console.log(e)},$(".bootpag").on("click","*",function(t){var s=$(this).attr("data-lp");a.currentPage(s)}),ko.computed(function(){a.currentPage(),a.currentRating(),a.ProcessRequest()})}var t="http://test-api.kuria.tshdev.io/?";ko.applyBindings(new a)});